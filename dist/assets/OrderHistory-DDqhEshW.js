import{t as I,v as k,y as b,q as f,r as y,D as O,p as S,j as e,G as D,I as P,a1 as _,X as i,e as R,a2 as B,o as C,L,U as n,Z as w,a3 as N}from"./index-CslP1rqZ.js";import{D as v}from"./DisableScrollRestoration-C3JXvFJB.js";import{C as A,a as $,D as E}from"./CardContent-B-fwvpn4.js";function U(t){return k("MuiCardMedia",t)}I("MuiCardMedia",["root","media","img"]);const H=["children","className","component","image","src","style"],T=t=>{const{classes:a,isMediaComponent:l,isImageComponent:o}=t;return P({root:["root",l&&"media",o&&"img"]},U,a)},F=b("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:l}=t,{isMediaComponent:o,isImageComponent:r}=l;return[a.root,o&&a.media,r&&a.img]}})(({ownerState:t})=>f({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),G=["video","audio","picture","iframe","img"],W=["picture","img"],z=y.forwardRef(function(a,l){const o=O({props:a,name:"MuiCardMedia"}),{children:r,className:p,component:d="div",image:c,src:g,style:m}=o,u=S(o,H),s=G.indexOf(d)!==-1,x=!s&&c?f({backgroundImage:`url("${c}")`},m):m,h=f({},o,{component:d,isMediaComponent:s,isImageComponent:W.indexOf(d)!==-1}),j=T(h);return e.jsx(F,f({className:D(j.root,p),as:d,role:!s&&c?"img":void 0,ref:l,style:x,ownerState:h,src:s?c||g:void 0},u,{children:r}))}),q=b(A)(({theme:t})=>({marginBottom:t.spacing(2),boxShadow:t.shadows[3],transition:"transform 0.3s ease-in-out","&:hover":{transform:"scale(1.02)"}})),V=b(_)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center"})),X=b(i)(({theme:t})=>({backgroundColor:t.palette.background.paper,padding:t.spacing(2),borderRadius:t.shape.borderRadius,boxShadow:t.shadows[5]})),Q=()=>{var g,m,u;const{user:t,LightMode:a}=R(),[l,o]=y.useState(!1),[r,p]=y.useState(null);if(!t)return e.jsx(i,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:e.jsx(B,{})});if(((g=t[0])==null?void 0:g.orderhistory.length)==0)return e.jsxs("section",{className:"h-[70vh] bg-[length:100%_100%] md:bg-[length:50%_100%] bg-no-repeat bg-center bg-[url('https://img.freepik.com/free-vector/removing-goods-from-basket-refusing-purchase-changing-decision-item-deletion-emptying-trash-online-shopping-app-laptop-user-cartoon-character_335657-1172.jpg?w=740&t=st=1729104729~exp=1729105329~hmac=3f5c66177d02ce2c7ad9572109ff93c6da0095a5a2f87666f2ffe5ea74260bac')]",children:[e.jsx(v,{}),e.jsx(C,{className:"py-5",children:e.jsxs("div",{className:"text-center my-40 align-items-center",children:[e.jsx("h5",{className:"text-dark text-6xl md:text-7xl mb-5 font-bold d-flex justify-content-center font-mono",children:"No Order History"}),e.jsx(L,{to:"/home",children:e.jsx("button",{className:"rounded p-2 text-white font-bold text-xl bg-danger hover:opacity-[0.9]",children:"Continue Browsing"})})]})})]});const d=s=>{p(s),o(!0)},c=()=>{o(!1),p(null)};return e.jsx(e.Fragment,{children:e.jsxs(C,{className:`h-[75vh] mt-5 mb-3 px-5 shadow-xl rounded-4 pt-3 ${a?"bg-gray-900":"bg-light"}`,maxWidth:"lg",children:[e.jsx(v,{}),e.jsx("h2",{className:`text-3xl text-center font-bold mb-2 text-${a?"white":"dark"}`,children:"#Order History"}),e.jsxs("div",{className:"h-[80%] w-[100%] overflow-y-auto",children:[[...(m=t[0])==null?void 0:m.orderhistory].reverse().map((s,x)=>{var h;return e.jsx(q,{className:"w-[90%] mx-auto my-3",children:e.jsx($,{className:`${a?"bg-dark":"bg-light"} text-${a?"white":"dark"}`,children:e.jsxs(i,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:[e.jsx(i,{className:"flex flex-wrap w-[180px]",children:(h=s.id)==null?void 0:h.map((j,M)=>e.jsx(z,{component:"img",image:j.img,alt:j.img,style:{width:80,borderRadius:4,margin:5}},M))}),e.jsxs(i,{className:"text-center",children:[e.jsx(n,{variant:"h6",children:e.jsxs("b",{children:["Paid Amount: ₹",s.amount.toLocaleString("en-IN")]})}),e.jsxs(n,{variant:"body2",children:["Order Date: ",new Date(s.createdAt).toLocaleDateString()]}),e.jsx(n,{variant:"body2",children:"Status: Completed"})]}),e.jsx(i,{display:"flex",alignItems:"center",children:e.jsx(w,{variant:"contained",color:"primary",onClick:()=>d(s),children:"View Details"})})]})})},x)}),r&&e.jsx(V,{open:l,onClose:c,children:e.jsxs(X,{className:`${a?"bg-dark":"bg-light"} text-${a?"white":"dark"} md:w-[60%] w-[95%]`,children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Order Details"}),e.jsx(E,{}),e.jsxs(i,{mt:2,children:[e.jsxs(n,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx("span",{className:"font-bold text-lg",children:"Order ID:"})," ",r._id]}),e.jsxs(n,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx("span",{className:"font-bold text-lg",children:"Order Date:"})," ",new Date(r.createdAt).toLocaleDateString()]}),e.jsxs(n,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx("span",{className:"font-bold text-lg",children:"Status:"})," Completed"]}),e.jsxs(n,{variant:"subtitle1",gutterBottom:!0,children:[e.jsx("span",{className:"font-bold text-lg",children:"Purchase Items:"})," (",r.id.length,")"]}),e.jsx("hr",{className:"py-2"}),e.jsx(N,{container:!0,spacing:2,className:"overflow-y-auto h-[300px] py-5",children:(u=r.id)==null?void 0:u.map((s,x)=>e.jsx(e.Fragment,{children:e.jsx(N,{item:!0,xs:12,children:e.jsxs(i,{className:"flex justify-between md:px-5 px-0",alignItems:"center",children:[e.jsx("img",{src:s.img,alt:s.name,className:"md:h-[100px] md:w-[100px] h-[50px] w-[50px]"}),e.jsx(n,{variant:"body2",children:e.jsxs("span",{className:"font-semibold",children:[" ",s.title]})}),e.jsxs(n,{variant:"body2",children:["Price: ₹",e.jsx("span",{className:"line-through",children:s.price.toLocaleString("en-IN")}),e.jsx("br",{}),"Paid Price: ₹",e.jsx("span",{className:"text-red-500",children:Math.floor(s.price/2).toLocaleString("en-IN")})]}),e.jsxs(n,{variant:"body2",children:["Items ID: ",e.jsx("br",{}),e.jsxs("span",{children:[" ",s._id]})]})]})},x)}))}),e.jsxs(i,{mt:2,className:"",children:[e.jsx("hr",{}),e.jsx("h2",{className:"my-2  bg-no-repeat bg-cover bg-[url('https://www.psdstamps.com/wp-content/uploads/2022/04/round-youtube-stamp-png.png')]",children:"(Incl All Taxes)"}),e.jsxs(n,{variant:"h6",className:"flex justify-start items-center",children:["Paid Amount: ₹",r.amount,e.jsx("img",{src:"https://res.cloudinary.com/dlhikwznm/image/upload/v1737722013/pngwing.com_lvwxnw.png",className:"ml-4 h-[90px] w-[145px]"})]})]})]}),e.jsx(i,{mt:2,display:"flex",justifyContent:"flex-end",children:e.jsx(w,{variant:"contained",color:"primary",onClick:c,children:"Close"})})]})})]})]})})};export{Q as default};
