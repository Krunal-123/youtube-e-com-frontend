import{e as R,r as d,j as e,S as J,ad as A,ae as k,h as L}from"./index-CslP1rqZ.js";import{L as y,U as o,k as r,P as T,c as W,J as i,d as h,_ as B,Y as g,f}from"./mdb-react-ui-kit.esm-DqwfMsyp.js";import{D as M}from"./DisableScrollRestoration-C3JXvFJB.js";import{a as S}from"./Button-DjIN9bvl.js";function Q(){const{user:n,setUser:P,LightMode:s}=R(),[c,x]=d.useState(!1),[a,m]=d.useState({}),[j,v]=d.useState(""),[I,N]=d.useState(""),w={Male:[{label:"Male Avatar 1",value:"https://yt3.ggpht.com/a/AATXAJzFE_5zKBk19JRw6RbSvLseEhNrI0W5qfPjoQ=s900-c-k-c0xffffffff-no-rj-mo"},{label:"Male Avatar 2",value:"https://i.pinimg.com/736x/10/11/ef/1011efaaf04baa3b05f1cfb08bd8a9ce.jpg"},{label:"Male Avatar 3",value:"https://i.pinimg.com/originals/be/2d/30/be2d307e7f0004d3b014ee1120756a93.png"},{label:"Male Avatar 4",value:"https://img.freepik.com/premium-vector/mens-activities-vector-illustration-displayversatile-men-vector-graphics-compilation_481747-44530.jpg"},{label:"Male Avatar 5",value:"https://th.bing.com/th/id/OIP.dhhbDwvSxpGSPzhe_PusUAAAAA?pid=ImgDet&w=400&h=400&rs=1"},{label:"Male Avatar 6",value:"https://th.bing.com/th/id/OIP.OIsYvJFi5XMH1IOajDEv9gHaHa?w=800&h=800&rs=1&pid=ImgDetMain"},{label:"Male Avatar 7",value:"https://th.bing.com/th/id/OIP.d0X_Gs2lmWSuv4MdtT6JkAHaHa?rs=1&pid=ImgDetMain"},{label:"Male Avatar 8",value:"https://pbs.twimg.com/profile_images/1481020650487570434/Ma90VOhT_400x400.png"}],Female:[{label:"Female Avatar 1",value:"https://i.pinimg.com/736x/eb/03/88/eb038855a7042127763c113b35c5b2ca.jpg"},{label:"Female Avatar 2",value:"https://m.media-amazon.com/images/I/512ktT+5KRL._SY600_.jpg"},{label:"Female Avatar 3",value:"https://i.pinimg.com/originals/7f/79/6d/7f796d57218d9cd81a92d9e6e8e51ce4.png"},{label:"Female Avatar 4",value:"https://static.vecteezy.com/system/resources/previews/024/183/500/original/female-avatar-brunette-woman-portrait-illustration-of-a-female-character-in-a-modern-color-style-vector.jpg"},{label:"Female Avatar 5",value:"https://th.bing.com/th/id/OIP.zj_tNglgTv4H2-WyWVu5BAHaH_?w=1779&h=1920&rs=1&pid=ImgDetMain"},{label:"Female Avatar 6",value:"https://padletuploads.blob.core.windows.net/prod/52876518/Ou6JMSDD6PHJei824RNhpg/1037fe1cd58ca4e4dae4c3e6de4f63bc.png"},{label:"Female Avatar 7",value:"https://th.bing.com/th/id/OIP.zQKQ3NjbEtzK8zD8elvxHwHaHa?rs=1&pid=ImgDetMain"},{label:"Female Avatar 8",value:"https://www.educake.co.uk/wp-content/uploads/2022/03/sarah-strange.png"}]};d.useEffect(()=>{if(n&&n.length>0){const{profilePic:t,firstName:l,lastName:b,email:u,gender:D,number:H,_id:$,createdAt:O}=n[0];N(t),m({profilePic:t,firstName:l,lastName:b,email:u,gender:D,number:H,_id:$,createdAt:O})}},[n]),d.useEffect(()=>{v(a.gender)},[a]);const C=()=>{x(!c)},p=t=>{const{name:l,value:b}=t.target;m(u=>({...u,[l]:b}))},z=t=>{v(t.target.value),m(l=>({...l,gender:t.target.value}))},F=t=>{N(t.target.value),m(l=>({...l,profilePic:t.target.value}))},_=async()=>{try{let t=await L.patch("http://localhost:3000/updatedetails",a);x(!1),P([{...n[0],...a}])}catch(t){console.error("Failed to update details:",t),alert("Failed to save details. Please try again.")}},E=()=>{x(!1),m(n[0])};return!n||n.length===0?e.jsxs("section",{className:"bg-[#f4f5f7]",children:[e.jsx(M,{}),e.jsx(y,{className:"py-10 h-100",children:e.jsx(o,{className:"justify-content-center align-items-center h-100",children:e.jsx(J,{animation:"border"})})})]}):e.jsxs("section",{className:"",children:[e.jsx(M,{}),e.jsx(y,{className:"py-10 h-100",children:e.jsx(o,{className:"justify-content-center align-items-center h-100",children:e.jsx(r,{lg:"10",className:"mb-4",children:e.jsx(T,{className:`mb-3 shadow-2xl rounded-2xl ${s?"bg-dark":"bg-white"} ${s?"text-white":"text-dark"}`,children:e.jsxs(o,{className:"g-0",children:[e.jsxs(r,{md:"4",className:"bg-[url(https://img.freepik.com/free-vector/black-wallpaper-with-silver-geometric-lines_1017-30669.jpg?w=996&t=st=1693673570~exp=1693674170~hmac=a816b7b1607c955137b5ce41b9e03a09728e8d16335a2e395beb5818dc43c41d)] bg-cover text-center text-white",style:{borderTopLeftRadius:".5rem",borderBottomLeftRadius:".5rem"},children:[e.jsx(W,{src:a.profilePic||"default-avatar-url.jpg",alt:"Avatar",className:"my-5 h-[350px] w-[80%] m-auto rounded-[15%] shadow-lg",fluid:!0}),e.jsxs(i,{tag:"h5",className:"mb-0 text-3xl font-bold",children:[e.jsx("i",{className:"font-mono text-4xl",children:(a==null?void 0:a.gender)=="Male"?"MR.":"MS."}),e.jsxs("span",{children:[a.firstName," ",a.lastName]}),e.jsx("p",{className:"flex justify-content-center text-3xl font-bold",children:e.jsx("img",{src:(a==null?void 0:a.gender)=="Male"?"https://icons.iconarchive.com/icons/microsoft/fluentui-emoji-flat/256/Male-Sign-Flat-icon.png":"https://assets-global.website-files.com/62d22090d818f11cd8518c8d/62d22ae5360d5986f0356783_female-p-500.png",className:"h-[40px] my-3 rounded"})})]}),e.jsxs("div",{className:"mb-5 text-xl hover:text-green-400 transition easy-in-out hover:scale-[1.2] hover:underline font-bold",onClick:C,style:{cursor:"pointer"},children:[e.jsx(h,{far:!0,icon:"edit"}),e.jsx("i",{children:" Edit Profile"})]})]}),e.jsx(r,{md:"8",className:"py-5",children:e.jsxs(B,{className:"px-5 pt-5 text-lg font-semibold",children:[e.jsxs(i,{tag:"h6",className:"flex justify-between",children:[e.jsxs("span",{children:["Account ID: ",a._id]})," ",a.createdAt&&e.jsxs("span",{children:["createdAt: ",new Date(a.createdAt).toLocaleDateString()]})]}),e.jsx("hr",{className:"mt-2 mb-4"}),e.jsxs(o,{className:"pt-1",children:[e.jsxs(r,{size:"6",className:"mb-3",children:[e.jsx(i,{tag:"h6",children:"Email:"}),e.jsx(g,{children:a.email})]}),e.jsxs(r,{size:"6",className:"mb-3",children:[e.jsx(i,{tag:"h6",children:"Name:"}),c?e.jsxs(e.Fragment,{children:[e.jsx(f,{name:"firstName",value:a.firstName,onChange:p,className:`${s?"bg-dark":"bg-white"} ${s?"text-white":"text-dark"} mb-2`}),e.jsx(f,{name:"lastName",value:a.lastName,onChange:p,className:`${s?"bg-dark":"bg-white"} ${s?"text-white":"text-dark"}`})]}):e.jsxs(g,{children:[a.firstName," ",a.lastName]})]})]}),e.jsx(i,{tag:"h6",children:"Information"}),e.jsx("hr",{className:"mt-3 mb-4"}),e.jsxs(o,{className:"pt-1",children:[c?e.jsxs(e.Fragment,{children:[e.jsxs(r,{size:"6",className:"mb-3",children:[e.jsx(i,{tag:"h6",children:"Gender:"}),e.jsx(A,{name:"gender",value:a.gender,onChange:z,fullWidth:!0,className:`${s?"bg-dark":"bg-white"} ${s?"text-white":"text-dark"}`,children:Object.keys(w).map(t=>e.jsx(k,{value:t,children:t},t))})]}),e.jsxs(r,{size:"6",className:"mb-3",children:[e.jsx(i,{tag:"h6",children:"Select Avatar:"}),e.jsx(A,{name:"profilePic",value:I,onChange:F,fullWidth:!0,disabled:!a.gender,className:`${s?"bg-dark":"bg-white"} ${s?"text-white":"text-dark"}`,children:j&&w[j].map((t,l)=>e.jsxs(k,{value:t.value,className:`${s?"bg-dark":"bg-white"} ${s?"text-white":"text-dark"}`,children:[e.jsx("img",{src:t.value,alt:t.label,className:"w-[50px] h-[50px] mr-2"}),t.label]},l))})]})]}):e.jsxs(r,{children:[e.jsx(i,{tag:"h6",children:"Gender:"}),e.jsx(g,{children:a.gender})]}),e.jsxs(r,{size:"6",className:"mb-3",children:[e.jsx(i,{tag:"h6",children:"Phone:"}),c?e.jsx(f,{name:"number",value:a.number||"",onChange:p}):e.jsx(g,{children:a.number||"N/A"})]})]}),c&&e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx(S,{className:"btn-success px-4",onClick:_,children:"Save"}),e.jsx(S,{className:"btn-danger px-3",onClick:E,children:"Cancel"})]}),!c&&e.jsxs("div",{className:"d-flex justify-content-start",children:[e.jsx("a",{href:"#!",children:e.jsx(h,{fab:!0,icon:"facebook me-3",size:"lg"})}),e.jsx("a",{href:"#!",children:e.jsx(h,{fab:!0,icon:"twitter me-3",size:"lg"})}),e.jsx("a",{href:"#!",children:e.jsx(h,{fab:!0,icon:"instagram me-3",size:"lg"})})]})]})})]})})})})})]})}export{Q as default};
